.dashboard {
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 24px;
  --space-6: 32px;

  --font-meta: 12px;
  --font-body: 16px;
  --font-h3: 20px;
  --font-h2: 24px;
  --font-h1: clamp(28px, 2.5vw, 32px);

  --bg: hsl(var(--background));
  --surface: hsl(var(--card));
  --surface-2: hsl(var(--secondary));
  --text: hsl(var(--foreground));
  --muted: hsl(var(--muted-foreground));
  --border: hsl(var(--border));
  --accent: hsl(var(--primary));

  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  max-width: 1160px;
  margin-inline: auto;
}

.stickyHeader {
  position: sticky;
  top: 76px;
  z-index: 20;
  background: hsl(var(--background) / 0.92);
  backdrop-filter: blur(8px);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: var(--space-5);
}

.headerRow {
  display: grid;
  grid-template-columns: minmax(0, 1fr) auto;
  align-items: start;
  gap: var(--space-4);
}

.breadcrumb {
  display: flex;
  align-items: center;
  gap: var(--space-2);
  font-size: var(--font-meta);
  color: var(--muted);
  margin-bottom: var(--space-2);
}

.breadcrumbLink {
  color: inherit;
  text-decoration: none;
}

.breadcrumbLink:hover {
  color: var(--text);
}

.title {
  margin: 0;
  font-size: var(--font-h1);
  line-height: 1.15;
  color: var(--text);
}

.description {
  margin-top: var(--space-2);
  max-width: 72ch;
  font-size: 14px;
  line-height: 1.55;
  color: var(--muted);
}

.headerActions {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  justify-self: end;
  gap: var(--space-3);
  width: max-content;
  max-width: 100%;
}

.segmentControl {
  display: inline-flex;
  border: 1px solid var(--border);
  border-radius: 12px;
  background: var(--surface-2);
  padding: 4px;
  width: fit-content;
  max-width: 100%;
  overflow-x: auto;
}

.segmentLink {
  border-radius: 9px;
  border: 1px solid transparent;
  color: var(--muted);
  font-size: 12px;
  font-weight: 700;
  padding: 8px 12px;
  text-decoration: none;
  white-space: nowrap;
  transition: all 140ms ease;
}

.segmentLink:hover {
  color: var(--text);
}

.segmentLinkActive {
  color: var(--text);
  border-color: hsl(var(--primary) / 0.32);
  background: hsl(var(--primary) / 0.14);
}

.askAiButton {
  align-self: flex-end;
}

.contentGrid {
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: var(--space-5);
  align-items: start;
}

.primaryColumn {
  grid-column: span 8;
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.railColumn {
  grid-column: span 4;
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.fullWidth {
  grid-column: 1 / -1;
}

.card {
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: 0 10px 24px hsl(0 0% 0% / 0.18);
  padding: 20px;
}

.cardHeader {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-3);
  margin-bottom: var(--space-4);
}

.cardBody {
  color: var(--text);
  font-size: var(--font-body);
  line-height: 1.58;
}

.metaLine {
  margin: 0 0 var(--space-2) 0;
  font-size: var(--font-meta);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--muted);
}

.headline {
  margin: 0;
  font-size: var(--font-h2);
  line-height: 1.2;
  color: var(--text);
}

.lede {
  margin-top: var(--space-3);
  max-width: 70ch;
  font-size: var(--font-body);
  color: var(--text);
}

.heroImage {
  width: 100%;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface-2);
  object-fit: cover;
  aspect-ratio: 16 / 7;
  margin-top: var(--space-4);
}

.subSection {
  margin-top: var(--space-5);
}

.subSectionTitle {
  margin: 0 0 var(--space-2) 0;
  font-size: 16px;
  font-weight: 700;
  color: var(--text);
}

.bulletList {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: var(--space-2);
}

.bulletItem {
  display: flex;
  align-items: flex-start;
  gap: var(--space-2);
  color: var(--muted);
  font-size: 14px;
  line-height: 1.5;
}

.bulletDot {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  margin-top: 7px;
  background: hsl(var(--primary));
  flex: 0 0 auto;
}

.listStack {
  display: grid;
  gap: var(--space-2);
}

.listRow {
  border: 1px solid transparent;
  border-radius: 10px;
  background: hsl(var(--secondary) / 0.45);
  padding: 11px 12px;
  transition: border-color 140ms ease, background-color 140ms ease;
}

.listRow:hover {
  border-color: hsl(var(--primary) / 0.35);
  background: hsl(var(--secondary) / 0.65);
}

.listRow:focus-within {
  border-color: hsl(var(--primary) / 0.55);
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.22);
}

.rowTitle {
  font-size: 15px;
  line-height: 1.35;
  font-weight: 600;
}

.rowMeta {
  font-size: var(--font-meta);
  color: var(--muted);
}

.rowNote {
  font-size: 14px;
  color: var(--muted);
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.actionsList {
  margin: 0;
  padding-left: 20px;
  display: grid;
  gap: var(--space-2);
}

.actionItem {
  font-size: 14px;
  line-height: 1.5;
  color: var(--text);
}

.details {
  margin-top: var(--space-3);
  border-top: 1px solid var(--border);
  padding-top: var(--space-3);
}

.detailsSummary {
  cursor: pointer;
  list-style: none;
  font-size: 13px;
  color: var(--muted);
  font-weight: 600;
}

.detailsSummary::-webkit-details-marker {
  display: none;
}

.detailsSummary::after {
  content: " +";
}

.details[open] .detailsSummary::after {
  content: " -";
}

.sourcesGrid {
  margin: 0;
  padding: 0;
  list-style: none;
  display: grid;
  gap: var(--space-2);
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

.sourceItem {
  border: 1px solid transparent;
  border-radius: 10px;
  background: hsl(var(--secondary) / 0.45);
  padding: 10px 12px;
}

.sourceItem:focus-within {
  border-color: hsl(var(--primary) / 0.55);
  box-shadow: 0 0 0 2px hsl(var(--primary) / 0.22);
}

.sourceLink {
  color: var(--text);
  font-size: 14px;
  font-weight: 600;
  line-height: 1.4;
  text-decoration: none;
  word-break: break-word;
}

.sourceLink:hover {
  color: var(--accent);
}

.sourceMeta {
  margin-top: var(--space-1);
  font-size: var(--font-meta);
  color: var(--muted);
}

.emptyState {
  font-size: 14px;
  color: var(--muted);
}

.focusable:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 8px;
}

@media (max-width: 1279px) {
  .stickyHeader {
    position: static;
  }
}

@media (max-width: 1023px) {
  .headerRow {
    grid-template-columns: 1fr;
  }

  .contentGrid {
    grid-template-columns: 1fr;
  }

  .primaryColumn,
  .railColumn,
  .fullWidth {
    grid-column: auto;
  }

  .headerActions {
    justify-self: end;
    width: max-content;
    max-width: 100%;
    align-items: flex-end;
  }

  .askAiButton {
    align-self: flex-end;
  }
}

@media (max-width: 767px) {
  .dashboard {
    gap: var(--space-4);
  }

  .stickyHeader {
    padding: var(--space-4);
  }

  .card {
    padding: var(--space-4);
  }

  .sourcesGrid {
    grid-template-columns: 1fr;
  }

  .headerActions {
    width: 100%;
    justify-self: stretch;
    align-items: flex-end;
  }

  .segmentControl {
    width: fit-content;
    max-width: 100%;
    margin-left: auto;
  }

  .askAiButton {
    margin-left: auto;
  }
}
